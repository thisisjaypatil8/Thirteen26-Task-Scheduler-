{
    "sourceFile": "src/components/Tips.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1762696422067,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1762697052100,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,23 +1,28 @@\n import React from 'react';\r\n \r\n-// You can add as many tips as you want here\r\n-const tipsList = [\r\n-  \"Use specific times (e.g., 'meeting at 4pm') for fixed events.\",\r\n-  \"Mark important tasks by writing '(high importance)' after them.\",\r\n-  \"Export your schedule to Google Calendar using the '.ics' button.\",\r\n-  \"Check off tasks as you complete them to update your progress.\"\r\n-];\r\n-\r\n-function Tips() {\r\n+function Tips({ aiTips = [], isLoading = false }) {\r\n   return (\r\n     <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n-      <h3 className=\"text-2xl font-semibold mb-4 text-gray-700\">ðŸ’¡ Pro Tips</h3>\r\n-      <ul className=\"space-y-3 list-disc list-inside text-gray-600\">\r\n-        {tipsList.map((tip, index) => (\r\n-          <li key={index}>{tip}</li>\r\n-        ))}\r\n-      </ul>\r\n+      <h3 className=\"text-2xl font-semibold mb-4 text-gray-700\">ðŸ’¡ AI Productivity Tips</h3>\r\n+      \r\n+      {isLoading && (\r\n+        <div className=\"text-gray-500 text-center\">\r\n+          <p>Generating custom tips for your tasks...</p>\r\n+        </div>\r\n+      )}\r\n+      \r\n+      {!isLoading && aiTips.length === 0 && (\r\n+        <p className=\"text-gray-500\">Generate a schedule to get AI-powered tips for your tasks.</p>\r\n+      )}\r\n+\r\n+      {!isLoading && aiTips.length > 0 && (\r\n+        <ul className=\"space-y-3 list-disc list-inside text-gray-600\">\r\n+          {aiTips.map((tip, index) => (\r\n+            <li key={index}>{tip}</li>\r\n+          ))}\r\n+        </ul>\r\n+      )}\r\n     </div>\r\n   );\r\n }\r\n \r\n"
                },
                {
                    "date": 1762697671721,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,27 +1,82 @@\n-import React from 'react';\r\n+import React, { useState, useEffect } from 'react';\r\n+import { getAITips } from '../services/geminiService.js'; // Import the service here\r\n \r\n-function Tips({ aiTips = [], isLoading = false }) {\r\n+function Tips({ schedule = [], apiKey = '' }) {\r\n+  const [aiTips, setAiTips] = useState([]);\r\n+  const [isLoading, setIsLoading] = useState(false);\r\n+  const [error, setError] = useState(null);\r\n+  \r\n+  // When the schedule changes, reset the tips\r\n+  useEffect(() => {\r\n+    setAiTips([]);\r\n+    setError(null);\r\n+  }, [schedule]); // This is a dependency\r\n+\r\n+  const handleGenerateTips = async () => {\r\n+    if (!apiKey) {\r\n+      alert(\"API Key is missing.\");\r\n+      return;\r\n+    }\r\n+\r\n+    setIsLoading(true);\r\n+    setError(null);\r\n+    setAiTips([]);\r\n+    \r\n+    try {\r\n+      const tips = await getAITips(schedule, apiKey);\r\n+      setAiTips(tips);\r\n+    } catch (err) {\r\n+      setError(err.message);\r\n+      setAiTips([\"Could not load tips due to an error.\"]);\r\n+    } finally {\r\n+      setIsLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  // Don't show anything if there is no schedule\r\n+  if (schedule.length === 0) {\r\n+    return (\r\n+      <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n+        <h3 className=\"text-2xl font-semibold mb-4 text-gray-700\">ðŸ’¡ AI Productivity Tips</h3>\r\n+        <p className=\"text-gray-500\">Generate a schedule to get AI-powered tips.</p>\r\n+      </div>\r\n+    );\r\n+  }\r\n+\r\n   return (\r\n     <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n       <h3 className=\"text-2xl font-semibold mb-4 text-gray-700\">ðŸ’¡ AI Productivity Tips</h3>\r\n       \r\n+      {/* Show tips if they exist */}\r\n+      {aiTips.length > 0 && (\r\n+        <ul className=\"space-y-3 list-disc list-inside text-gray-600 mb-4\">\r\n+          {aiTips.map((tip, index) => (\r\n+            <li key={index}>{tip}</li>\r\n+          ))}\r\n+        </ul>\r\n+      )}\r\n+\r\n+      {/* Show loading state */}\r\n       {isLoading && (\r\n-        <div className=\"text-gray-500 text-center\">\r\n-          <p>Generating custom tips for your tasks...</p>\r\n+        <div className=\"text-gray-500 text-center my-4\">\r\n+          <p>Generating custom tips for your schedule...</p>\r\n         </div>\r\n       )}\r\n-      \r\n-      {!isLoading && aiTips.length === 0 && (\r\n-        <p className=\"text-gray-500\">Generate a schedule to get AI-powered tips for your tasks.</p>\r\n+\r\n+      {/* Show error */}\r\n+      {error && (\r\n+        <p className=\"text-red-500 my-4\">Error: {error}</p>\r\n       )}\r\n \r\n-      {!isLoading && aiTips.length > 0 && (\r\n-        <ul className=\"space-y-3 list-disc list-inside text-gray-600\">\r\n-          {aiTips.map((tip, index) => (\r\n-            <li key={index}>{tip}</li>\r\n-          ))}\r\n-        </ul>\r\n+      {/* Show the button if not loading AND no tips are loaded yet */}\r\n+      {!isLoading && aiTips.length === 0 && (\r\n+        <button\r\n+          onClick={handleGenerateTips}\r\n+          className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow transition-all\"\r\n+        >\r\n+          Generate Tips for this Schedule\r\n+        </button>\r\n       )}\r\n     </div>\r\n   );\r\n }\r\n"
                }
            ],
            "date": 1762696422067,
            "name": "Commit-0",
            "content": "import React from 'react';\r\n\r\n// You can add as many tips as you want here\r\nconst tipsList = [\r\n  \"Use specific times (e.g., 'meeting at 4pm') for fixed events.\",\r\n  \"Mark important tasks by writing '(high importance)' after them.\",\r\n  \"Export your schedule to Google Calendar using the '.ics' button.\",\r\n  \"Check off tasks as you complete them to update your progress.\"\r\n];\r\n\r\nfunction Tips() {\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-xl shadow-lg\">\r\n      <h3 className=\"text-2xl font-semibold mb-4 text-gray-700\">ðŸ’¡ Pro Tips</h3>\r\n      <ul className=\"space-y-3 list-disc list-inside text-gray-600\">\r\n        {tipsList.map((tip, index) => (\r\n          <li key={index}>{tip}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Tips;"
        }
    ]
}